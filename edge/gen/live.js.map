{"version":3,"sources":["gen/live.js"],"names":["$live","$addLive","node","nextResolve","promise","resolveAndReload","value","next","Promise","resolve","gun","live","chain"],"mappings":";;;;;QAAiBA,K,GAAAA,K;QAcDC,Q,GAAAA,Q;;eAdCD,K;;AAAV,SAAUA,KAAV,CAAgBE,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AACDC,qBADC,WACYC,OADZ;;AAECC,0BAFD,GAEoB,SAAnBA,gBAAmB,CAACC,KAAD,EAAW;AAClC,gBAAIH,WAAJ,EAAiBA,YAAY;AAC3BG,0BAD2B;AAE3BC,oBAAO;AAAA,uBAAMH,OAAN;AAAA;AAFoB,aAAZ;AAIjBA,sBAAU,IAAII,OAAJ,CAAY,UAACC,OAAD;AAAA,qBAAaN,cAAcM,OAA3B;AAAA,aAAZ,CAAV;AACA,mBAAOL,OAAP;AACD,WATI;;AAULC;AACAK,cAAIC,IAAJ,CAASN,gBAAT;;AAXK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAcA,SAASJ,QAAT,OAEJ;AAAA,MADDW,KACC,QADDA,KACC;;AACDA,QAAMZ,KAAN,2BAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACNA,MAAM,IAAN,CADM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAd;AAGA,SAAOY,KAAP;AACD","file":"live.js","sourcesContent":["export function* $live(node) {\n  let nextResolve, promise;\n  const resolveAndReload = (value) => {\n    if (nextResolve) nextResolve({\n      value,\n      next: (() => promise)\n    });\n    promise = new Promise((resolve) => nextResolve = resolve);\n    return promise;\n  }\n  resolveAndReload();\n  gun.live(resolveAndReload)\n}\n\nexport function $addLive({\n  chain\n}) {\n  chain.$live = function* () {\n    yield $live(this)\n  }\n  return chain\n}"]}