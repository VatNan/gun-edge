{"version":3,"sources":["gen/on.js"],"names":["$on","$addOn","node","condition","opt","c","Promise","resolve","reject","on","chain"],"mappings":";;;;;QAAiBA,G,GAAAA,G;QAaDC,M,GAAAA,M;;eAbCD,G;;AAAV,SAAUA,GAAV,CAAcE,IAAd;AAAA,MACLC,SADK,QACLA,SADK;AAAA,MAELC,GAFK,QAELA,GAFK;AAAA;AAAA;AAAA;AAAA;AAAA;AAIDC,WAJC,GAIG,SAAJA,CAAI;AAAA,mBAAM,IAAN;AAAA,WAJH;;AAKLF,sBAAYA,aAAaE,CAAzB;;AALK;AAAA,eAMEF,UAAUD,IAAV,CANF;AAAA;AAAA;AAAA;;AAAA;AAAA,iBAOG,IAAII,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC3CN,iBAAKO,EAAL,CAAQF,OAAR,EAAiBH,GAAjB;AACD,WAFK,CAPH;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAaA,SAASH,MAAT,QAEJ;AAAA,MADDS,KACC,SADDA,KACC;;AACDA,QAAMV,GAAN,2BAAY;AAAA,QACVG,SADU,SACVA,SADU;AAAA,QAEVC,GAFU,SAEVA,GAFU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAIJJ,IAAI,IAAJ,EAAU;AACdG,kCADc;AAEdC;AAFc,aAAV,CAJI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAZ;;AAUA,SAAOM,KAAP;AACD","file":"on.js","sourcesContent":["export function* $on(node, {\n  condition,\n  opt\n}) {\n  let c = () => true\n  condition = condition || c\n  while (condition(node)) {\n    yield new Promise(function (resolve, reject) {\n      node.on(resolve, opt)\n    })\n  }\n}\n\nexport function $addOn({\n  chain\n}) {\n  chain.$on = function* ({\n    condition,\n    opt\n  }) {\n    yield $on(this, {\n      condition,\n      opt\n    })\n  }\n\n  return chain\n}"]}