{"version":3,"sources":["fields.js"],"names":["localFields","fields","addFields","node","mp","map","val","v","Object","values","_","at","field","cb","opt","value","keys","chain"],"mappings":";;;;;QAAgBA,W,GAAAA,W;QAMAC,M,GAAAA,M;QAIAC,S,GAAAA,S;AAVT,SAASF,WAAT,CAAqBG,IAArB,EAA2B;AAChC,MAAIC,KAAKD,KAAKE,GAAL,GAAWC,GAAX,CAAe;AAAA,WAAKC,CAAL;AAAA,GAAf,CAAT;AACA,MAAIF,MAAMG,OAAOC,MAAP,CAAcL,GAAGM,CAAH,CAAKL,GAAnB,CAAV;AACA,SAAOG,OAAOC,MAAP,CAAcJ,GAAd,EAAmBA,GAAnB,CAAuB;AAAA,WAAKE,EAAEI,EAAF,CAAKC,KAAV;AAAA,GAAvB,CAAP;AACD;;AAEM,SAASX,MAAT,CAAgBE,IAAhB,EAAsBU,EAAtB,EAA0BC,GAA1B,EAA+B;AACpCX,OAAKY,KAAL,CAAW;AAAA,WAAKF,GAAGL,OAAOQ,IAAP,CAAYT,CAAZ,CAAH,CAAL;AAAA,GAAX,EAAoCO,GAApC;AACD;;AAEM,SAASZ,SAAT,OAEJ;AAAA,MADDe,KACC,QADDA,KACC;;AACDA,QAAMhB,MAAN,GAAe,UAAUY,EAAV,EAAcC,GAAd,EAAmB;AAChC,WAAOb,OAAO,IAAP,EAAaY,EAAb,EAAiBC,GAAjB,CAAP;AACD,GAFD;AAGA,SAAOG,KAAP;AACD","file":"fields.js","sourcesContent":["export function localFields(node) {\n  var mp = node.map().val(v => v)\n  var map = Object.values(mp._.map)\n  return Object.values(map).map(v => v.at.field)\n}\n\nexport function fields(node, cb, opt) {\n  node.value(v => cb(Object.keys(v)), opt)\n}\n\nexport function addFields({\n  chain\n}) {\n  chain.fields = function (cb, opt) {\n    return fields(this, cb, opt)\n  }\n  return chain\n}"]}