{"version":3,"sources":["value.js"],"names":["value","valueAt","addValue","node","cb","opt","val","field","v","copy","_","call","at","pathNode","path","Error","chain","Gun"],"mappings":";;;;;QAAgBA,K,GAAAA,K;QAQAC,O,GAAAA,O;QAaAC,Q,GAAAA,Q;;AAJhB;;AAjBO,SAASF,KAAT,CAAeG,IAAf,EAAqBC,EAArB,EAAyBC,GAAzB,EAA8B;AACnC,SAAOF,KAAKG,GAAL,CAAS,UAAUA,GAAV,EAAeC,KAAf,EAAsB;AACpC,QAAIC,IAAIL,KAAKM,IAAL,CAAUH,GAAV,CAAR;AACA,WAAOE,EAAEE,CAAT;AACAN,OAAGO,IAAH,CAAQ,IAAR,EAAcH,CAAd,EAAiBD,KAAjB;AACD,GAJM,EAIJF,GAJI,CAAP;AAKD;;AAEM,SAASJ,OAAT,CAAiBE,IAAjB,EAAuBS,EAAvB,EAA2BR,EAA3B,EAA+BC,GAA/B,EAAoC;AACzC,MAAIQ,WAAWV,KAAKW,IAAL,CAAUF,EAAV,CAAf;AACA,MAAIC,QAAJ,EAAc;AACZ,WAAOA,SAASb,KAAT,CAAeI,EAAf,EAAmBC,GAAnB,CAAP;AACD,GAFD,MAEO;AACL,UAAM,IAAIU,KAAJ,mBAA0BH,EAA1B,CAAN;AACD;AACF;;AAMM,SAASV,QAAT,CAAkBc,KAAlB,EAAyBC,GAAzB,EAA8B;AACnC,qBAAQD,KAAR,EAAeC,GAAf;;AAEAD,QAAMhB,KAAN,GAAc,UAAUI,EAAV,EAAcC,GAAd,EAAmB;AAC/B,WAAOL,MAAM,IAAN,EAAYI,EAAZ,EAAgBC,GAAhB,CAAP;AACD,GAFD;;AAIAW,QAAMf,OAAN,GAAgB,UAAUW,EAAV,EAAcR,EAAd,EAAkBC,GAAlB,EAAuB;AACrC,WAAOJ,QAAQ,IAAR,EAAcW,EAAd,EAAkBR,EAAlB,EAAsBC,GAAtB,CAAP;AACD,GAFD;;AAIA,SAAOW,KAAP;AACD","file":"value.js","sourcesContent":["export function value(node, cb, opt) {\n  return node.val(function (val, field) {\n    let v = node.copy(val)\n    delete v._\n    cb.call(this, v, field)\n  }, opt);\n}\n\nexport function valueAt(node, at, cb, opt) {\n  let pathNode = node.path(at)\n  if (pathNode) {\n    return pathNode.value(cb, opt)\n  } else {\n    throw new Error(`No such path ${at}`)\n  }\n}\n\nimport {\n  addCopy\n} from '../copy'\n\nexport function addValue(chain, Gun) {\n  addCopy(chain, Gun)\n\n  chain.value = function (cb, opt) {\n    return value(this, cb, opt)\n  }\n\n  chain.valueAt = function (at, cb, opt) {\n    return valueAt(this, at, cb, opt)\n  }\n\n  return chain\n}"]}